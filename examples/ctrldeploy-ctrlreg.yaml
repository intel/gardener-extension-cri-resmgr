# This file is generated by hacks/generate-controller-registration.sh - Do not commit, but change generation script!
---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerDeployment
metadata:
  name: cri-resmgr-extension
type: helm
providerConfig:
  chart: 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

  values:
    ### For development purposes - set it to 0 (if you want to register extension but use local process with "make start").
    # replicaCount: 1            

    ### Uncomment this is you want to overwrite extension image or internal installation and agent images.
    ### Remember to build and push image  "make REGISTRY=v2.isvimgreg.com TAG=mybranch build-images push-images"
    ### "image" overwrites extension (for seed) and "images" overwrite installation/agent (for shoot) images defined in charts/images.yaml
    #image:
    #  repository: v2.isvimgreg.com/gardener-extension-cri-resmgr
    #  tag: mybranch
    #  pullPolicy: Always
    #imageVectorOverwrite: |
    #  images:
    #  - name: gardener-extension-cri-resmgr-installation
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-installation
    #  - name: gardener-extension-cri-resmgr-agent
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-agent
    ### Uncomment to provide own "fallback" configuration for CRI-Resource-Manager
    ### Use ballons policy as an example:
    # based on: https://github.com/intel/cri-resource-manager/blob/master/sample-configs/balloons-policy.cfg
    configs:
      ### Those options are passed directly to cri-resmgr binary.
      # EXTRA_OPTIONS: | 
      #   EXTRA_OPTIONS="--metrics-interval 10s" 
      ### This is *dynamic* config that will be applied by cri-resmgr-agent
      # default: |
      #   policy:
      #     Active: balloons
      #     AvailableResources:
      #       CPU: cpuset:1-128
      #     ReservedResources:
      #       CPU: 1
      #     balloons:
      #       BalloonTypes:
      #         - Name: "HP-balloon"
      #           MinCPUs: 2
      #           MaxCPUs: 2
      #           MinBalloons: 1
      #           Namespaces:
      #           - nginx
      #         - Name: "LP-balloon"
      #           MinCPUs: 4
      #           MaxCPUs: 4
      #           MinBalloons: 1
      #           Namespaces:
      #           - stress
      #   instrumentation:
      #     HTTPEndpoint: :8891
      #     PrometheusExport: true
      #   logger:
      #     Debug: resource-manager,cache,policy,config-server,cpuallocator
      #     Klog:
      #       # Enables nice logs with logger names that can be used in Debug
      #       skip_headers: true
      #   dump:
      #     Debug: true

---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerRegistration
metadata:
  name: cri-resmgr-extension
spec:
  deployment:
    # For demo/development purpose - deploy the extensions before even shoots are created (or enabled)
    policy: Always
    deploymentRefs:
    - name: cri-resmgr-extension
  resources:
  - kind: Extension
    type: cri-resmgr-extension
    globallyEnabled: false
    reconcileTimeout: "120s"
