# This file is generated by hacks/generate-controller-registration.sh - Do not commit, but change generation script!
---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerDeployment
metadata:
  name: cri-resmgr-extension
type: helm
providerConfig:
  chart: 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

  values:
    ### For development purposes - set it to 0 (if you want to register extension but use local process with "make start").
    # replicaCount: 1            

    ### Uncomment this is you want to overwrite extension image or internal installation and agent images.
    ### Remember to build and push image  "make REGISTRY=v2.isvimgreg.com TAG=mybranch build-images push-images"
    ### "image" overwrites extension (for seed) and "images" overwrite installation/agent (for shoot) images defined in charts/images.yaml
    #image:
    #  repository: v2.isvimgreg.com/gardener-extension-cri-resmgr
    #  tag: mybranch
    #  pullPolicy: Always
    #imageVectorOverwrite: |
    #  images:
    #  - name: gardener-extension-cri-resmgr-installation
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-installation
    #  - name: gardener-extension-cri-resmgr-agent
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-agent
    ### Uncomment to provide own "fallback" configuration for CRI-Resource-Manager
    ### Use ballons policy as an example:
    # based on: https://github.com/intel/cri-resource-manager/blob/master/sample-configs/balloons-policy.cfg
    configs:
      ### Those options are passed directly to cri-resmgr binary.
      # EXTRA_OPTIONS: | 
      #   EXTRA_OPTIONS="--metrics-interval 10s" 
      ### This is *dynamic* config that will be applied by cri-resmgr-agent
      # default: |
      #   policy:
      #     Active: balloons
      #     AvailableResources:
      #       CPU: cpuset:1-128
      #     ReservedResources:
      #       CPU: 1
      #     balloons:
      #       BalloonTypes:
      #         - Name: "HP-balloon"
      #           MinCPUs: 2
      #           MaxCPUs: 2
      #           MinBalloons: 1
      #           Namespaces:
      #           - nginx
      #         - Name: "LP-balloon"
      #           MinCPUs: 4
      #           MaxCPUs: 4
      #           MinBalloons: 1
      #           Namespaces:
      #           - stress
      #   instrumentation:
      #     HTTPEndpoint: :8891
      #     PrometheusExport: true
      #   logger:
      #     Debug: resource-manager,cache,policy,config-server,cpuallocator
      #     Klog:
      #       # Enables nice logs with logger names that can be used in Debug
      #       skip_headers: true
      #   dump:
      #     Debug: true

---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerRegistration
metadata:
  name: cri-resmgr-extension
spec:
  deployment:
    # For demo/development purpose - deploy the extensions before even shoots are created (or enabled)
    policy: Always
    deploymentRefs:
    - name: cri-resmgr-extension
  resources:
  - kind: Extension
    type: cri-resmgr-extension
    globallyEnabled: false
    reconcileTimeout: "120s"
