# This file is generated by hacks/generate-controller-registration.sh - Do not commit, but change generation script!
---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerDeployment
metadata:
  name: cri-resmgr-extension
type: helm
providerConfig:
  chart: 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

  values:
    ### For development purposes - set it to 0 (if you want to register extension but use local process with "make start").
    # replicaCount: 1            

    ### Uncomment this is you want to overwrite extension image or internal installation and agent images.
    ### Remember to build and push image  "make REGISTRY=v2.isvimgreg.com TAG=mybranch build-images push-images"
    ### "image" overwrites extension (for seed) and "images" overwrite installation/agent (for shoot) images defined in charts/images.yaml
    #image:
    #  repository: v2.isvimgreg.com/gardener-extension-cri-resmgr
    #  tag: mybranch
    #  pullPolicy: Always
    #imageVectorOverwrite: |
    #  images:
    #  - name: gardener-extension-cri-resmgr-installation
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-installation
    #  - name: gardener-extension-cri-resmgr-agent
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-agent
    ### Uncomment to provide own "fallback" configuration for CRI-Resource-Manager
    ### Use ballons policy as an example:
    # based on: https://github.com/intel/cri-resource-manager/blob/master/sample-configs/balloons-policy.cfg
    configs:
      ### Those options are passed directly to cri-resmgr binary.
      # EXTRA_OPTIONS: | 
      #   EXTRA_OPTIONS="--metrics-interval 10s" 
      ### This is *dynamic* config that will be applied by cri-resmgr-agent
      # default: |
      #   policy:
      #     Active: balloons
      #     AvailableResources:
      #       CPU: cpuset:1-128
      #     ReservedResources:
      #       CPU: 1
      #     balloons:
      #       BalloonTypes:
      #         - Name: "HP-balloon"
      #           MinCPUs: 2
      #           MaxCPUs: 2
      #           MinBalloons: 1
      #           Namespaces:
      #           - nginx
      #         - Name: "LP-balloon"
      #           MinCPUs: 4
      #           MaxCPUs: 4
      #           MinBalloons: 1
      #           Namespaces:
      #           - stress
      #   instrumentation:
      #     HTTPEndpoint: :8891
      #     PrometheusExport: true
      #   logger:
      #     Debug: resource-manager,cache,policy,config-server,cpuallocator
      #     Klog:
      #       # Enables nice logs with logger names that can be used in Debug
      #       skip_headers: true
      #   dump:
      #     Debug: true

---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerRegistration
metadata:
  name: cri-resmgr-extension
spec:
  deployment:
    # For demo/development purpose - deploy the extensions before even shoots are created (or enabled)
    policy: Always
    deploymentRefs:
    - name: cri-resmgr-extension
  resources:
  - kind: Extension
    type: cri-resmgr-extension
    globallyEnabled: false
    reconcileTimeout: "120s"
